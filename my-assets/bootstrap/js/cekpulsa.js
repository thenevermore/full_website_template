var tipe;var nominal;var labelproduct;var labelcontact;var kontakdiv;var emaildiv;var form;$(function(){    tipe = $("#p-tipe");    nominal = $("#p-value");    var harga = $("#p-harga");    form = $("#homeform");    kontakdiv = $("#kontak-div");    emaildiv = $("#email-div");    labelproduct = $("#label-product");    labelcontact = $("#label-contact");    var total = 0;        $("#pbtn").removeAttr("disabled");        $("#hp-tab-btn").click(function(){        changeTab(3, 1);    });    $("#bolt-tab-btn").click(function(){        changeTab(1, 2);    });    $("#pln-tab-btn").click(function(){        changeTab(2, 3);    });    $("#game-tab-btn").click(function(){        changeTab(11, 4);    });    tipe.change(function(){        selTipe = $(this).val();        onTipeChange($(this).val());    });    nominal.change(function(){        var selNominal = $(this).val();        for(var q in nomlist[selTipe]){            if(nomlist[selTipe][q].id == selNominal){                var idbank = $("#p-bank").val();                var ucvalue = -1;                if(typeof bankdata[idbank] != 'undefined'){                    ucvalue = bankdata[idbank].uniquecode;                }                                if(ucvalue == -1){                    total = nomlist[selTipe][q].value;                }                else{                    total = nomlist[selTipe][q].value*1+bankdata[idbank].uniquecode*1;                }                harga.html('Rp ' + total.rupiah());                                break;               }        }    });        $("#p-bank").change(function(){        var ss = nominal.val();        var idbank = $(this).val();        for(var q=0;q<nomlist[selTipe].length;q++){            if(nomlist[selTipe][q]['id'] == ss){                total = nomlist[selTipe][q]['value']*1+bankdata[idbank].uniquecode*1;                harga.html('Rp ' +total.rupiah());                break;            }        }    });        form.submit(function(e){        var er = new Array();        if($("#p-tujuan").val()==""){            er.push("Nomor diperlukan");           }        else if(isNaN($("#p-tujuan").val())){            er.push("Nomor hanya boleh memakai angka");           }        var selectedBank = bankdata[$("#p-bank").val()];        if(selectedBank.minimum > total){            er.push("Minimum pembayaran untuk " + selectedBank.name + " adalah Rp " + selectedBank.minimum.rupiah());        }        else if(selectedBank.maximum != -1 && selectedBank.maximum < total){            er.push("Deposit Anda tidak mencukupi untuk melakukan order");           }        if(er.length !=0){            e.preventDefault();            showMessage("error", er);        }        else{            $("#pbtn").attr("disabled", "disabled");        }    });        changeTab(defaultPage, defaultTab);    nominal.change();        $(".typelink").click(function(e){        e.preventDefault();        tipe.val($(this).attr("data-id"));        tipe.change();    });        $(".change-link").click(function(e){        if (typeof (history.pushState) != "undefined") {            e.preventDefault();             var obj = { Title: $(this).attr("title"), Url: $(this).attr("href") };            history.pushState(obj, obj.Title, obj.Url);            switch($(this).attr("data-id")){                case "1":                    changeTab(1);                break;                case "2":                    changeTab(2);                break;                case "3":                    changeTab($(this).attr("data-type"));                break;                            }            $("html, body").animate({ scrollTop: 0 }, "slow");        } else {        }    });});function changeTab(id, tab){    $("#main-tabs li").removeClass("active");    switch(tab){        case 2:            $("#bolt-li").addClass("active");            $("#tipe-div").hide();        break;        case 3:            $("#pln-li").addClass("active");            $("#tipe-div").hide();        break;        case 4:            $("#game-li").addClass("active");            $("#tipe-div").show();        break;        default:            $("#hp-li").addClass("active");            $("#tipe-div").show();        break;       }    generateJenis(id);    tipe.val(id);    selTipe = id;    onTipeChange();}function generateJenis(id){    var tabvalue = 1;    for(var x in tipelist){        if(tipelist[x].id == id){            tabvalue = tipelist[x].tab;            break;        }    }    var result = '';    for(var x in tipelist){        if(tipelist[x].tab == tabvalue){            result += '<option value="'+tipelist[x].id+'">'+tipelist[x].value+'</option>';        }    }    tipe.html(result);}function onTipeChange(){    if(null != nomlist){        $("#p-tp").val(selTipe);                nominal.find('option').remove();        for(var q in nomlist[selTipe]){            if(nomlist[selTipe][q].status == 0)                nominal.append('<option disabled="disabled" value="'+nomlist[selTipe][q].id+'">'+nomlist[selTipe][q].name+' - OUT OF STOCK</option>');            else                nominal.append('<option value="'+nomlist[selTipe][q].id+'">'+nomlist[selTipe][q].name+'</option>');        }        for(var w in tipelist){            if(tipelist[w].id == selTipe){                form.attr("action", mainurl + "/" + tipelist[w].url + "/submit");                break;            }           }        labelproduct.html(tipelist[w].product);        labelcontact.html(tipelist[w].contact);        if(tipelist[w].withcontact == "1"){            kontakdiv.show();        }        else{            kontakdiv.hide();                    }        nominal.change();    }}